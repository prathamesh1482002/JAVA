package SpellChecker.SpellMistake;

import java.io.*;
import java.util.*;
import org.apache.poi.xwpf.usermodel.*;
import org.apache.commons.io.FilenameUtils;
import org.apache.pdfbox.pdmodel.PDDocument;
import org.apache.pdfbox.text.PDFTextStripper;

public class Testing {
	public static void main(String filesPath, String pdfFilesPath) {
		// public static void main(String[] args) {
		// String filesPath = "D:\\New folder\\New folder";
		// String pdfFilesPath = "D:\\New folder";
		try {
			File[] files = new File(filesPath).listFiles();
			if (files != null) {
				for (File file : files) {
					if (file.getName().endsWith(".docx")) {
						List<String> missingWordsFromWord = findMissingWordsFromWord(file, pdfFilesPath);
						
							generateTextFile(pdfFilesPath, FilenameUtils.removeExtension(file.getName())+"_log" + ".txt",
									missingWordsFromWord);
						
					} else if (file.getName().endsWith(".xml")) {
						List<String> missingWordsFromXml = findMissingWordsFromXml(file, pdfFilesPath);
						
							generateTextFile(pdfFilesPath, FilenameUtils.removeExtension(file.getName())+"_log" + ".txt",
									missingWordsFromXml);
						
					}
				}
			}
		} catch (IOException e) {
			e.printStackTrace();
		}
	}

	private static List<String> findMissingWordsFromWord(File wordFile, String pdfFilesPath) throws IOException {
		List<String> wordList = extractWordsFromWordDocument(wordFile);
		return findMissingWords(wordList, pdfFilesPath, FilenameUtils.removeExtension(wordFile.getName()) + ".pdf");
	}

	private static List<String> findMissingWordsFromXml(File xmlFile, String pdfFilesPath) throws IOException {
		List<String> wordList = extractWordsFromXml(xmlFile);
		return findMissingWords(wordList, pdfFilesPath, FilenameUtils.removeExtension(xmlFile.getName()) + ".pdf");
	}

	private static List<String> extractWordsFromWordDocument(File file) throws IOException {
		List<String> words = new ArrayList<>();
		try (FileInputStream fis = new FileInputStream(file); XWPFDocument document = new XWPFDocument(fis)) {
			List<XWPFParagraph> paragraphs = document.getParagraphs();
			for (XWPFParagraph paragraph : paragraphs) {
				String text = paragraph.getText();
				String[] tokens = text.split("\\W+");
				words.addAll(Arrays.asList(tokens));
			}
		}
		return words;
	}

	private static List<String> extractWordsFromXml(File file) throws IOException {
		List<String> words = new ArrayList<>();
		try (BufferedReader reader = new BufferedReader(new FileReader(file))) {
			String line;
			while ((line = reader.readLine()) != null) {
				line = line.replaceAll("<u>.*?</u>", "");
				line = line.replaceAll("&#x0?0026;", "&");
				line = line.replaceAll("&#x0?00E1;", "á");
				line = line.replaceAll("&#x0?00C1;", "Á");
				line = line.replaceAll("&#x0?00E2;", "â");
				line = line.replaceAll("&#x0?00C2;", "Â");
				line = line.replaceAll("&#x0?00E0;", "à");
				line = line.replaceAll("&#x0?00C0;", "À");
				line = line.replaceAll("&#x0?00E5;", "å");
				line = line.replaceAll("&#x0?00C5;", "Å");
				line = line.replaceAll("&#x0?00E3;", "ã");
				line = line.replaceAll("&#x0?00C3;", "Ã");
				line = line.replaceAll("&#x0?00E4;", "ä");
				line = line.replaceAll("&#x0?00C4;", "Ä");
				line = line.replaceAll("&#x0?00E6;", "æ");
				line = line.replaceAll("&#x0?00C6;", "Æ");
				line = line.replaceAll("&#x0?00E7;", "ç");
				line = line.replaceAll("&#x0?00C7;", "Ç");
				line = line.replaceAll("&#x0?00F0;", "ð");
				line = line.replaceAll("&#x0?00D0;", "Ð");
				line = line.replaceAll("&#x0?00E9;", "é");
				line = line.replaceAll("&#x0?00C9;", "É");
				line = line.replaceAll("&#x0?00EA;", "ê");
				line = line.replaceAll("&#x0?00CA;", "Ê");
				line = line.replaceAll("&#x0?00E8;", "è");
				line = line.replaceAll("&#x0?00C8;", "È");
				line = line.replaceAll("&#x0?00EB;", "ë");
				line = line.replaceAll("&#x0?00CB;", "Ë");
				line = line.replaceAll("&#x0?00ED;", "í");
				line = line.replaceAll("&#x0?00CD;", "Í");
				line = line.replaceAll("&#x0?00EE;", "î");
				line = line.replaceAll("&#x0?00CE;", "Î");
				line = line.replaceAll("&#x0?00EC;", "ì");
				line = line.replaceAll("&#x0?00CC;", "Ì");
				line = line.replaceAll("&#x0?00EF;", "ï");
				line = line.replaceAll("&#x0?00CF;", "Ï");
				line = line.replaceAll("&#x0?00F1;", "ñ");
				line = line.replaceAll("&#x0?00D1;", "Ñ");
				line = line.replaceAll("&#x0?00F3;", "ó");
				line = line.replaceAll("&#x0?00D3;", "Ó");
				line = line.replaceAll("&#x0?00F4;", "ô");
				line = line.replaceAll("&#x0?00D4;", "Ô");
				line = line.replaceAll("&#x0?00F2;", "ò");
				line = line.replaceAll("&#x0?00D2;", "Ò");
				line = line.replaceAll("&#x0?00F8;", "ø");
				line = line.replaceAll("&#x0?00D8;", "Ø");
				line = line.replaceAll("&#x0?00F5;", "õ");
				line = line.replaceAll("&#x0?00D5;", "Õ");
				line = line.replaceAll("&#x0?00F6;", "ö");
				line = line.replaceAll("&#x0?00D6;", "Ö");
				line = line.replaceAll("&#x0?00DF;", "ß");
				line = line.replaceAll("&#x0?00FE;", "þ");
				line = line.replaceAll("&#x0?00DE;", "Þ");
				line = line.replaceAll("&#x0?00FA;", "ú");
				line = line.replaceAll("&#x0?00DA;", "Ú");
				line = line.replaceAll("&#x0?00FB;", "û");
				line = line.replaceAll("&#x0?00DB;", "Û");
				line = line.replaceAll("&#x0?00F9;", "ù");
				line = line.replaceAll("&#x0?00D9;", "Ù");
				line = line.replaceAll("&#x0?00FC;", "ü");
				line = line.replaceAll("&#x0?00DC;", "Ü");
				line = line.replaceAll("&#x0?00FD;", "ý");
				line = line.replaceAll("&#x0?00DD;", "Ý");
				line = line.replaceAll("&#x0?00FF;", "ÿ");
				line = line.replaceAll("&#x0?0103;", "ă");
				line = line.replaceAll("&#x0?0102;", "Ă");
				line = line.replaceAll("&#x0?0101;", "ā");
				line = line.replaceAll("&#x0?0100;", "Ā");
				line = line.replaceAll("&#x0?0105;", "ą");
				line = line.replaceAll("&#x0?0104;", "Ą");
				line = line.replaceAll("&#x0?0107;", "ć");
				line = line.replaceAll("&#x0?0106;", "Ć");
				line = line.replaceAll("&#x0?010D;", "č");
				line = line.replaceAll("&#x0?010C;", "Č");
				line = line.replaceAll("&#x0?0109;", "ĉ");
				line = line.replaceAll("&#x0?0108;", "Ĉ");
				line = line.replaceAll("&#x0?010B;", "ċ");
				line = line.replaceAll("&#x0?010A;", "Ċ");
				line = line.replaceAll("&#x0?010F;", "ď");
				line = line.replaceAll("&#x0?010E;", "Ď");
				line = line.replaceAll("&#x0?0111;", "đ");
				line = line.replaceAll("&#x0?0110;", "Đ");
				line = line.replaceAll("&#x0?011B;", "ě");
				line = line.replaceAll("&#x0?011A;", "Ě");
				line = line.replaceAll("&#x0?0117;", "ė");
				line = line.replaceAll("&#x0?0116;", "Ė");
				line = line.replaceAll("&#x0?0113;", "ē");
				line = line.replaceAll("&#x0?0112;", "Ē");
				line = line.replaceAll("&#x0?0119;", "ę");
				line = line.replaceAll("&#x0?0118;", "Ę");
				line = line.replaceAll("&#x0?01F5;", "ǵ");
				line = line.replaceAll("&#x0?011F;", "ğ");
				line = line.replaceAll("&#x0?011E;", "Ğ");
				line = line.replaceAll("&#x0?0122;", "Ģ");
				line = line.replaceAll("&#x0?011D;", "ĝ");
				line = line.replaceAll("&#x0?011C;", "Ĝ");
				line = line.replaceAll("&#x0?0121;", "ġ");
				line = line.replaceAll("&#x0?0120;", "Ġ");
				line = line.replaceAll("&#x0?0125;", "ĥ");
				line = line.replaceAll("&#x0?0124;", "Ĥ");
				line = line.replaceAll("&#x0?0127;", "ħ");
				line = line.replaceAll("&#x0?0126;", "Ħ");
				line = line.replaceAll("&#x0?0130;", "İ");
				line = line.replaceAll("&#x0?012A;", "Ī");
				line = line.replaceAll("&#x0?012B;", "ī");
				line = line.replaceAll("&#x0?0133;", "ĳ");
				line = line.replaceAll("&#x0?0132;", "Ĳ");
				line = line.replaceAll("&#x0?0131;", "ı");
				line = line.replaceAll("&#x0?012F;", "į");
				line = line.replaceAll("&#x0?012E;", "Į");
				line = line.replaceAll("&#x0?0129;", "ĩ");
				line = line.replaceAll("&#x0?0128;", "Ĩ");
				line = line.replaceAll("&#x0?0135;", "ĵ");
				line = line.replaceAll("&#x0?0134;", "Ĵ");
				line = line.replaceAll("&#x0?0137;", "ķ");
				line = line.replaceAll("&#x0?0136;", "Ķ");
				line = line.replaceAll("&#x0?0138;", "ĸ");
				line = line.replaceAll("&#x0?013A;", "ĺ");
				line = line.replaceAll("&#x0?0139;", "Ĺ");
				line = line.replaceAll("&#x0?013E;", "ľ");
				line = line.replaceAll("&#x0?013D;", "Ľ");
				line = line.replaceAll("&#x0?013C;", "ļ");
				line = line.replaceAll("&#x0?013B;", "Ļ");
				line = line.replaceAll("&#x0?0140;", "ŀ");
				line = line.replaceAll("&#x0?013F;", "Ŀ");
				line = line.replaceAll("&#x0?0142;", "ł");
				line = line.replaceAll("&#x0?0141;", "Ł");
				line = line.replaceAll("&#x0?0144;", "ń");
				line = line.replaceAll("&#x0?0143;", "Ń");
				line = line.replaceAll("&#x0?014B;", "ŋ");
				line = line.replaceAll("&#x0?014A;", "Ŋ");
				line = line.replaceAll("&#x0?0149;", "ŉ");
				line = line.replaceAll("&#x0?0148;", "ň");
				line = line.replaceAll("&#x0?0147;", "Ň");
				line = line.replaceAll("&#x0?0146;", "ņ");
				line = line.replaceAll("&#x0?0145;", "Ņ");
				line = line.replaceAll("&#x0?0151;", "ő");
				line = line.replaceAll("&#x0?0150;", "Ő");
				line = line.replaceAll("&#x0?014C;", "Ō");
				line = line.replaceAll("&#x0?014D;", "ō");
				line = line.replaceAll("&#x0?0153;", "œ");
				line = line.replaceAll("&#x0?0152;", "Œ");
				line = line.replaceAll("&#x0?0155;", "ŕ");
				line = line.replaceAll("&#x0?0154;", "Ŕ");
				line = line.replaceAll("&#x0?0159;", "ř");
				line = line.replaceAll("&#x0?0158;", "Ř");
				line = line.replaceAll("&#x0?0157;", "ŗ");
				line = line.replaceAll("&#x0?0156;", "Ŗ");
				line = line.replaceAll("&#x0?015B;", "ś");
				line = line.replaceAll("&#x0?015A;", "Ś");
				line = line.replaceAll("&#x0?0161;", "š");
				line = line.replaceAll("&#x0?0160;", "Š");
				line = line.replaceAll("&#x0?015F;", "ş");
				line = line.replaceAll("&#x0?015E;", "Ş");
				line = line.replaceAll("&#x0?015D;", "ŝ");
				line = line.replaceAll("&#x0?015C;", "Ŝ");
				line = line.replaceAll("&#x0?0165;", "ť");
				line = line.replaceAll("&#x0?0164;", "Ť");
				line = line.replaceAll("&#x0?0163;", "ţ");
				line = line.replaceAll("&#x0?0162;", "Ţ");
				line = line.replaceAll("&#x0?0167;", "ŧ");
				line = line.replaceAll("&#x0?0166;", "Ŧ");
				line = line.replaceAll("&#x0?016D;", "ŭ");
				line = line.replaceAll("&#x0?016C;", "Ŭ");
				line = line.replaceAll("&#x0?0171;", "ű");
				line = line.replaceAll("&#x0?0170;", "Ű");
				line = line.replaceAll("&#x0?016B;", "ū");
				line = line.replaceAll("&#x0?016A;", "Ū");
				line = line.replaceAll("&#x0?0173;", "ų");
				line = line.replaceAll("&#x0?0172;", "Ų");
				line = line.replaceAll("&#x0?016F;", "ů");
				line = line.replaceAll("&#x0?016E;", "Ů");
				line = line.replaceAll("&#x0?0169;", "ũ");
				line = line.replaceAll("&#x0?0168;", "Ũ");
				line = line.replaceAll("&#x0?0175;", "ŵ");
				line = line.replaceAll("&#x0?0174;", "Ŵ");
				line = line.replaceAll("&#x0?0177;", "ŷ");
				line = line.replaceAll("&#x0?0176;", "Ŷ");
				line = line.replaceAll("&#x0?0178;", "Ÿ");
				line = line.replaceAll("&#x0?017A;", "ź");
				line = line.replaceAll("&#x0?0179;", "Ź");
				line = line.replaceAll("&#x0?017E;", "ž");
				line = line.replaceAll("&#x0?017D;", "Ž");
				line = line.replaceAll("&#x0?017C;", "ż");
				line = line.replaceAll("&#x0?017B;", "Ż");
				line = line.replaceAll("&#x0?2003;", " ");
				line = line.replaceAll("&#x0?2002;", " ");
				line = line.replaceAll("&#x0?2004;", " ");
				line = line.replaceAll("&#x0?2005;", " ");
				line = line.replaceAll("&#x0?2007;", " ");
				line = line.replaceAll("&#x0?2008;", " ");
				line = line.replaceAll("&#x0?2009;", " ");
				line = line.replaceAll("&#x0?200A;", " ");
				line = line.replaceAll("&#x0?2014;", "—");
				line = line.replaceAll("&#x0?2013;", "–");
				line = line.replaceAll("&#x0?2010;", "‐");
				line = line.replaceAll("&#x0?2423;", "␣");
				line = line.replaceAll("&#x0?2026;", "…");
				line = line.replaceAll("&#x0?2025;", "‥");
				line = line.replaceAll("&#x0?2153;", "⅓");
				line = line.replaceAll("&#x0?2154;", "⅔");
				line = line.replaceAll("&#x0?2155;", "⅕");
				line = line.replaceAll("&#x0?2156;", "⅖");
				line = line.replaceAll("&#x0?2157;", "⅗");
				line = line.replaceAll("&#x0?2158;", "⅘");
				line = line.replaceAll("&#x0?2159;", "⅙");
				line = line.replaceAll("&#x0?215A;", "⅚");
				line = line.replaceAll("&#x0?2105;", "℅");
				line = line.replaceAll("&#x0?2588;", "█");
				line = line.replaceAll("&#x0?2580;", "▀");
				line = line.replaceAll("&#x0?2584;", "▄");
				line = line.replaceAll("&#x0?2591;", "░");
				line = line.replaceAll("&#x0?2592;", "▒");
				line = line.replaceAll("&#x0?2593;", "▓");
				line = line.replaceAll("&#x0?25AE;", "▮");
				line = line.replaceAll("&#x0?25CB;", "○");
				line = line.replaceAll("&#x0?25A1;", "□");
				line = line.replaceAll("&#x0?25AD;", "▭");
				line = line.replaceAll("&#x0?25B5;", "▵");
				line = line.replaceAll("&#x0?25BF;", "▿");
				line = line.replaceAll("&#x0?22C6;", "⋆");
				line = line.replaceAll("&#x0?2022;", "•");
				line = line.replaceAll("&#x0?25AA;", "▪");
				line = line.replaceAll("&#x0?25B4;", "▴");
				line = line.replaceAll("&#x0?25BE;", "▾");
				line = line.replaceAll("&#x0?25C2;", "◂");
				line = line.replaceAll("&#x0?25B8;", "▸");
				line = line.replaceAll("&#x0?2663;", "♣");
				line = line.replaceAll("&#x0?2666;", "♦");
				line = line.replaceAll("&#x0?2661;", "♡");
				line = line.replaceAll("&#x0?2660;", "♠");
				line = line.replaceAll("&#x0?2720;", "✠");
				line = line.replaceAll("&#x0?2020;", "†");
				line = line.replaceAll("&#x0?2021;", "‡");
				line = line.replaceAll("&#x0?2713;", "✓");
				line = line.replaceAll("&#x0?2717;", "✗");
				line = line.replaceAll("&#x0?266F;", "♯");
				line = line.replaceAll("&#x0?266D;", "♭");
				line = line.replaceAll("&#x0?2642;", "♂");
				line = line.replaceAll("&#x0?2640;", "♀");
				line = line.replaceAll("&#x0?260E;", "☎");
				line = line.replaceAll("&#x0?2315;", "⌕");
				line = line.replaceAll("&#x0?2117;", "℗");
				line = line.replaceAll("&#x0?2041;", "⁁");
				line = line.replaceAll("&#x0?201A;", "‚");
				line = line.replaceAll("&#x0?201E;", "„");
				line = line.replaceAll("&#x0?2026;", "…");
				line = line.replaceAll("&#x0?201C;", "\"");
				line = line.replaceAll("&#x0?201D;", "\"");
				line = line.replaceAll("&#x0?2019;", "’");
				line = line.replaceAll("&#x0?22EE;", "⋮");
				line = line.replaceAll("&#x0?2043;", "⁃");
				line = line.replaceAll("&#x0?25CA;", "◊");
				line = line.replaceAll("&#x0?25C3;", "◃");
				line = line.replaceAll("&#x0?25B9;", "▹");
				line = line.replaceAll("&#x0?2605;", "★");
				line = line.replaceAll("&#x0?266E;", "♮");
				line = line.replaceAll("&#x0?211E;", "℞");
				line = line.replaceAll("&#x0?2736;", "✶");
				line = line.replaceAll("&#x0?2316;", "⌖");
				line = line.replaceAll("&#x0?230D;", "⌍");
				line = line.replaceAll("&#x0?230C;", "⌌");
				line = line.replaceAll("&#x0?230F;", "⌏");
				line = line.replaceAll("&#x0?230E;", "⌎");
				line = line.replaceAll("&#x0?2135;", "ℵ");
				line = line.replaceAll("&#x0?2227;", "∧");
				line = line.replaceAll("&#x0?221F;", "∟");
				line = line.replaceAll("&#x0?2222;", "∢");
				line = line.replaceAll("&#x0?2248;", "≈");
				line = line.replaceAll("&#x0?2235;", "∵");
				line = line.replaceAll("&#x0?22A5;", "⊥");
				line = line.replaceAll("&#x0?2229;", "∩");
				line = line.replaceAll("&#x0?2245;", "≅");
				line = line.replaceAll("&#x0?222E;", "∮");
				line = line.replaceAll("&#x0?222A;", "∪");
				line = line.replaceAll("&#x0?2261;", "≡");
				line = line.replaceAll("&#x0?2203;", "∃");
				line = line.replaceAll("&#x0?2200;", "∀");
				line = line.replaceAll("&#x0?0192;", "ƒ");
				line = line.replaceAll("&#x0?2265;", "≥");
				line = line.replaceAll("&#x0?221E;", "∞");
				line = line.replaceAll("&#x0?222B;", "∫");
				line = line.replaceAll("&#x0?2208;", "∈");
				line = line.replaceAll("&#x0?3008;", "〈");
				line = line.replaceAll("&#x0?21D0;", "⇐");
				line = line.replaceAll("&#x0?2264;", "≤");
				line = line.replaceAll("&#x0?2212;", "−");
				line = line.replaceAll("&#x0?2213;", "∓");
				line = line.replaceAll("&#x0?2207;", "∇");
				line = line.replaceAll("&#x0?2260;", "≠");
				line = line.replaceAll("&#x0?220B;", "∋");
				line = line.replaceAll("&#x0?2228;", "∨");
				line = line.replaceAll("&#x0?2225;", "∥");
				line = line.replaceAll("&#x0?2202;", "∂");
				line = line.replaceAll("&#x0?2030;", "‰");
				line = line.replaceAll("&#x0?22A5;", "⊥");
				line = line.replaceAll("&#x0?2032;", "′");
				line = line.replaceAll("&#x0?2033;", "″");
				line = line.replaceAll("&#x0?221D;", "∝");
				line = line.replaceAll("&#x0?221A;", "√");
				line = line.replaceAll("&#x0?3009;", "〉");
				line = line.replaceAll("&#x0?21D2;", "⇒");
				line = line.replaceAll("&#x0?223C;", "∼");
				line = line.replaceAll("&#x0?2243;", "≃");
				line = line.replaceAll("&#x0?25A1;", "□");
				line = line.replaceAll("&#x0?2282;", "⊂");
				line = line.replaceAll("&#x0?2286;", "⊆");
				line = line.replaceAll("&#x0?2283;", "⊃");
				line = line.replaceAll("&#x0?2287;", "⊇");
				line = line.replaceAll("&#x0?2234;", "∴");
				line = line.replaceAll("&#x0?2016;", "‖");
				line = line.replaceAll("&#x0?212B;", "Å");
				line = line.replaceAll("&#x0?212C;", "ℬ");
				line = line.replaceAll("&#x0?2218;", "∘");
				line = line.replaceAll("&#x0?00A8;", "¨");
				line = line.replaceAll("&#x0?20DC;", "⃜");
				line = line.replaceAll("&#x0?210B;", "ℋ");
				line = line.replaceAll("&#x0?2112;", "ℒ");
				line = line.replaceAll("&#x0?2217;", "∗");
				line = line.replaceAll("&#x0?2209;", "∉");
				line = line.replaceAll("&#x0?2134;", "ℴ");
				line = line.replaceAll("&#x0?2133;", "ℳ");
				line = line.replaceAll("&#x0?20DB;", "⃛");
				line = line.replaceAll("&#x0?2034;", "‴");
				line = line.replaceAll("&#x0?2259;", "≙");
				line = line.replaceAll("&#x0?00B4;", "´");
				line = line.replaceAll("&#x0?02D8;", "˘");
				line = line.replaceAll("&#x0?02C7;", "ˇ");
				line = line.replaceAll("&#x0?00B8;", "¸");
				line = line.replaceAll("&#x0?02DD;", "˝");
				line = line.replaceAll("&#x0?00A8;", "¨");
				line = line.replaceAll("&#x0?02D9;", "˙");
				line = line.replaceAll("&#x0?2018;", "`");
				line = line.replaceAll("&#x0?00AF;", "¯");
				line = line.replaceAll("&#x0?02DB;", "˛");
				line = line.replaceAll("&#x0?02DA;", "˚");
				line = line.replaceAll("&#x0?02DC;", "˜");
				line = line.replaceAll("&#x0?00A8;", "¨");
				line = line.replaceAll("&#x0?00BD;", "½");
				line = line.replaceAll("&#x0?00BD;", "½");
				line = line.replaceAll("&#x0?00BC;", "¼");
				line = line.replaceAll("&#x0?00BE;", "¾");
				line = line.replaceAll("&#x0?215B;", "⅛");
				line = line.replaceAll("&#x0?215C;", "⅜");
				line = line.replaceAll("&#x0?215D;", "⅝");
				line = line.replaceAll("&#x0?215E;", "⅞");
				line = line.replaceAll("&#x0?00B9;", "¹");
				line = line.replaceAll("&#x0?00B2;", "²");
				line = line.replaceAll("&#x0?00B3;", "³");
				line = line.replaceAll("&#x0?00B1;", "±");
				line = line.replaceAll("&#x0?00F7;", "÷");
				line = line.replaceAll("&#x0?00D7;", "×");
				line = line.replaceAll("&#x0?00A4;", "¤");
				line = line.replaceAll("&#x0?00A3;", "£");
				line = line.replaceAll("&#x0?00A2;", "¢");
				line = line.replaceAll("&#x0?00A5;", "¥");
				line = line.replaceAll("&#x0?20AC;", "€");
				line = line.replaceAll("&#x0?2015;", "―");
				line = line.replaceAll("&#x0?00B5;", "µ");
				line = line.replaceAll("&#x0?2126;", "Ω");
				line = line.replaceAll("&#x0?00B0;", "°");
				line = line.replaceAll("&#x0?00BA;", "º");
				line = line.replaceAll("&#x0?00AA;", "ª");
				line = line.replaceAll("&#x0?00A7;", "§");
				line = line.replaceAll("&#x0?00B6;", "¶");
				line = line.replaceAll("&#x0?00B7;", "·");
				line = line.replaceAll("&#x0?2190;", "←");
				line = line.replaceAll("&#x0?2192;", "→");
				line = line.replaceAll("&#x0?2191;", "↑");
				line = line.replaceAll("&#x0?2193;", "↓");
				line = line.replaceAll("&#x0?00A9;", "©");
				line = line.replaceAll("&#x0?00AE;", "®");
				line = line.replaceAll("&#x0?2122;", "™");
				line = line.replaceAll("&#x0?00A6;", "¦");
				line = line.replaceAll("&#x0?00AC;", "¬");
				line = line.replaceAll("&#x0?266A;", "♪");
				line = line.replaceAll("&#x0?00A1;", "¡");
				line = line.replaceAll("&#x0?03A3;", "Σ");
				line = line.replaceAll("&#x0?03C2;", "ς");
				line = line.replaceAll("&#x0?03C4;", "τ");
				line = line.replaceAll("&#x0?03C5;", "υ");
				line = line.replaceAll("&#x0?03D2;", "ϒ");
				line = line.replaceAll("&#x0?03C6;", "φ");
				line = line.replaceAll("&#x0?03A6;", "Φ");
				line = line.replaceAll("&#x0?03D5;", "ϕ");
				line = line.replaceAll("&#x0?03C7;", "χ");
				line = line.replaceAll("&#x0?03C8;", "ψ");
				line = line.replaceAll("&#x0?03A8;", "Ψ");
				line = line.replaceAll("&#x0?03C9;", "ω");
				line = line.replaceAll("&#x0?03A9;", "Ω");
				line = line.replaceAll("&#x0?21B6;", "↶");
				line = line.replaceAll("&#x0?21B7;", "↷");
				line = line.replaceAll("&#x0?21D3;", "⇓");
				line = line.replaceAll("&#x0?21CA;", "⇊");
				line = line.replaceAll("&#x0?21C3;", "⇃");
				line = line.replaceAll("&#x0?21C2;", "⇂");
				line = line.replaceAll("&#x0?21DA;", "⇚");
				line = line.replaceAll("&#x0?219E;", "↞");
				line = line.replaceAll("&#x0?21C7;", "⇇");
				line = line.replaceAll("&#x0?21A9;", "↩");
				line = line.replaceAll("&#x0?21AB;", "↫");
				line = line.replaceAll("&#x0?21A2;", "↢");
				line = line.replaceAll("&#x0?21BD;", "↽");
				line = line.replaceAll("&#x0?21BC;", "↼");
				line = line.replaceAll("&#x0?21D4;", "⇔");
				line = line.replaceAll("&#x0?2194;", "↔");
				line = line.replaceAll("&#x0?21C6;", "⇆");
				line = line.replaceAll("&#x0?21C4;", "⇄");
				line = line.replaceAll("&#x0?21AD;", "↭");
				line = line.replaceAll("&#x0?21CC;", "⇌");
				line = line.replaceAll("&#x0?21CB;", "⇋");
				line = line.replaceAll("&#x0?21B0;", "↰");
				line = line.replaceAll("&#x0?21A6;", "↦");
				line = line.replaceAll("&#x0?22B8;", "⊸");
				line = line.replaceAll("&#x0?2197;", "↗");
				line = line.replaceAll("&#x0?21CD;", "⇍");
				line = line.replaceAll("&#x0?219A;", "↚");
				line = line.replaceAll("&#x0?21CE;", "⇎");
				line = line.replaceAll("&#x0?21AE;", "↮");
				line = line.replaceAll("&#x0?219B;", "↛");
				line = line.replaceAll("&#x0?21CF;", "⇏");
				line = line.replaceAll("&#x0?2196;", "↖");
				line = line.replaceAll("&#x0?21BA;", "↺");
				line = line.replaceAll("&#x0?21BB;", "↻");
				line = line.replaceAll("&#x0?21DB;", "⇛");
				line = line.replaceAll("&#x0?21A0;", "↠");
				line = line.replaceAll("&#x0?21C9;", "⇉");
				line = line.replaceAll("&#x0?21AA;", "↪");
				line = line.replaceAll("&#x0?21AC;", "↬");
				line = line.replaceAll("&#x0?21A3;", "↣");
				line = line.replaceAll("&#x0?21DD;", "⇝");
				line = line.replaceAll("&#x0?21C1;", "⇁");
				line = line.replaceAll("&#x0?21C0;", "⇀");
				line = line.replaceAll("&#x0?21B1;", "↱");
				line = line.replaceAll("&#x0?2198;", "↘");
				line = line.replaceAll("&#x0?2199;", "↙");
				line = line.replaceAll("&#x0?21D1;", "⇑");
				line = line.replaceAll("&#x0?21C8;", "⇈");
				line = line.replaceAll("&#x0?21D5;", "⇕");
				line = line.replaceAll("&#x0?2195;", "↕");
				line = line.replaceAll("&#x0?21BF;", "↿");
				line = line.replaceAll("&#x0?21BE;", "↾");
				line = line.replaceAll("&#x0?2269;", "≩");
				line = line.replaceAll("&#x0?2269;", "≩");
				line = line.replaceAll("&#x0?22E7;", "⋧");
				line = line.replaceAll("&#x0?2A89;", "⪉");
				line = line.replaceAll("&#x0?2268;", "≨");
				line = line.replaceAll("&#x0?2268;", "≨");
				line = line.replaceAll("&#x0?22E6;", "⋦");
				line = line.replaceAll("&#x0?2249;", "≉");
				line = line.replaceAll("&#x0?2247;", "≇");
				line = line.replaceAll("&#x0?2262;", "≢");
				line = line.replaceAll("&#x0?2271;", "≱");
				line = line.replaceAll("&#x0?2271;", "≱");
				line = line.replaceAll("&#x0?2271;", "≱");
				line = line.replaceAll("&#x0?226F;", "≯");
				line = line.replaceAll("&#x0?2270;", "≰");
				line = line.replaceAll("&#x0?2270;", "≰");
				line = line.replaceAll("&#x0?2270;", "≰");
				line = line.replaceAll("&#x0?226E;", "≮");
				line = line.replaceAll("&#x0?22EA;", "⋪");
				line = line.replaceAll("&#x0?22EC;", "⋬");
				line = line.replaceAll("&#x0?2224;", "∤");
				line = line.replaceAll("&#x0?2226;", "∦");
				line = line.replaceAll("&#x0?2280;", "⊀");
				line = line.replaceAll("&#x0?22EB;", "⋫");
				line = line.replaceAll("&#x0?22ED;", "⋭");
				line = line.replaceAll("&#x0?2281;", "⊁");
				line = line.replaceAll("&#x0?2241;", "≁");
				line = line.replaceAll("&#x0?2244;", "≄");
				line = line.replaceAll("&#x0?2224;", "∤");
				line = line.replaceAll("&#x0?2284;", "⊄");
				line = line.replaceAll("&#x0?2288;", "⊈");
				line = line.replaceAll("&#x0?2288;", "⊈");
				line = line.replaceAll("&#x0?2285;", "⊅");
				line = line.replaceAll("&#x0?2289;", "⊉");
				line = line.replaceAll("&#x0?2289;", "⊉");
				line = line.replaceAll("&#x0?22AC;", "⊬");
				line = line.replaceAll("&#x0?22AD;", "⊭");
				line = line.replaceAll("&#x0?22AF;", "⊯");
				line = line.replaceAll("&#x0?22AE;", "⊮");
				line = line.replaceAll("&#x0?22E8;", "⋨");
				line = line.replaceAll("&#x0?2AB5;", "⪵");
				line = line.replaceAll("&#x0?22E8;", "⋨");
				line = line.replaceAll("&#x0?22E9;", "⋩");
				line = line.replaceAll("&#x0?2AB6;", "⪶");
				line = line.replaceAll("&#x0?22E9;", "⋩");
				line = line.replaceAll("&#x0?228A;", "⊊");
				line = line.replaceAll("&#x0?228A;", "⊊");
				line = line.replaceAll("&#x0?228B;", "⊋");
				line = line.replaceAll("&#x0?228B;", "⊋");
				line = line.replaceAll("&#x0?2309;", "⌉");
				line = line.replaceAll("&#x0?230B;", "⌋");
				line = line.replaceAll("&#x0?2994;", "⦔");
				line = line.replaceAll("&#x0?231D;", "⌝");
				line = line.replaceAll("&#x0?231F;", "⌟");
				line = line.replaceAll("&#x0?2308;", "⌈");
				line = line.replaceAll("&#x0?230A;", "⌊");
				line = line.replaceAll("&#x0?231C;", "⌜");
				line = line.replaceAll("&#x0?231E;", "⌞");
				line = line.replaceAll("&#x0?2306;", "⌆");
				line = line.replaceAll("&#x0?22BC;", "⊼");
				line = line.replaceAll("&#x0?22D2;", "⋒");
				line = line.replaceAll("&#x0?22D3;", "⋓");
				line = line.replaceAll("&#x0?22CE;", "⋎");
				line = line.replaceAll("&#x0?22CF;", "⋏");
				line = line.replaceAll("&#x0?22C4;", "⋄");
				line = line.replaceAll("&#x0?22C7;", "⋇");
				line = line.replaceAll("&#x0?22BA;", "⊺");
				line = line.replaceAll("&#x0?22CB;", "⋋");
				line = line.replaceAll("&#x0?22C9;", "⋉");
				line = line.replaceAll("&#x0?229F;", "⊟");
				line = line.replaceAll("&#x0?229B;", "⊛");
				line = line.replaceAll("&#x0?229A;", "⊚");
				line = line.replaceAll("&#x0?229D;", "⊝");
				line = line.replaceAll("&#x0?2299;", "⊙");
				line = line.replaceAll("&#x0?2296;", "⊖");
				line = line.replaceAll("&#x0?2295;", "⊕");
				line = line.replaceAll("&#x0?2298;", "⊘");
				line = line.replaceAll("&#x0?2297;", "⊗");
				line = line.replaceAll("&#x0?229E;", "⊞");
				line = line.replaceAll("&#x0?2214;", "∔");
				line = line.replaceAll("&#x0?22CC;", "⋌");
				line = line.replaceAll("&#x0?22CA;", "⋊");
				line = line.replaceAll("&#x0?00B7;", "·");
				line = line.replaceAll("&#x0?22A1;", "⊡");
				line = line.replaceAll("&#x0?2216;", "∖");
				line = line.replaceAll("&#x0?2293;", "⊓");
				line = line.replaceAll("&#x0?2294;", "⊔");
				line = line.replaceAll("&#x0?22C6;", "⋆");
				line = line.replaceAll("&#x0?22A0;", "⊠");
				line = line.replaceAll("&#x0?22A4;", "⊤");
				line = line.replaceAll("&#x0?228E;", "⊎");
				line = line.replaceAll("&#x0?2240;", "≀");
				line = line.replaceAll("&#x0?25EF;", "◯");
				line = line.replaceAll("&#x0?25BD;", "▽");
				line = line.replaceAll("&#x0?25B3;", "△");
				line = line.replaceAll("&#x0?2210;", "∐");
				line = line.replaceAll("&#x0?220F;", "∏");
				line = line.replaceAll("&#x0?2211;", "∑");
				line = line.replaceAll("&#x0?221F;", "∟");
				line = line.replaceAll("&#x0?2221;", "∡");
				line = line.replaceAll("&#x0?2136;", "ℶ");
				line = line.replaceAll("&#x0?2035;", "‵");
				line = line.replaceAll("&#x0?2201;", "∁");
				line = line.replaceAll("&#x0?2138;", "ℸ");
				line = line.replaceAll("&#x0?2113;", "ℓ");
				line = line.replaceAll("&#x0?2137;", "ℷ");
				line = line.replaceAll("&#x0?2111;", "ℑ");
				line = line.replaceAll("&#x0?0131;", "ı");
				line = line.replaceAll("&#x0?2204;", "∄");
				line = line.replaceAll("&#x0?24C8;", "Ⓢ");
				line = line.replaceAll("&#x0?210F;", "ℏ");
				line = line.replaceAll("&#x0?211C;", "ℜ");
				line = line.replaceAll("&#x0?2032;", "′");
				line = line.replaceAll("&#x0?2118;", "℘");
				line = line.replaceAll("&#x0?224A;", "≊");
				line = line.replaceAll("&#x0?224D;", "≍");
				line = line.replaceAll("&#x0?224C;", "≌");
				line = line.replaceAll("&#x0?22C8;", "⋈");
				line = line.replaceAll("&#x0?223D;", "∽");
				line = line.replaceAll("&#x0?22CD;", "⋍");
				line = line.replaceAll("&#x0?224E;", "≎");
				line = line.replaceAll("&#x0?224F;", "≏");
				line = line.replaceAll("&#x0?2257;", "≗");
				line = line.replaceAll("&#x0?2254;", "≔");
				line = line.replaceAll("&#x0?22DE;", "⋞");
				line = line.replaceAll("&#x0?22DF;", "⋟");
				line = line.replaceAll("&#x0?227C;", "≼");
				line = line.replaceAll("&#x0?22A3;", "⊣");
				line = line.replaceAll("&#x0?2256;", "≖");
				line = line.replaceAll("&#x0?2255;", "≕");
				line = line.replaceAll("&#x0?2251;", "≑");
				line = line.replaceAll("&#x0?2250;", "≐");
				line = line.replaceAll("&#x0?2252;", "≒");
				line = line.replaceAll("&#x0?22DD;", "⋝");
				line = line.replaceAll("&#x0?22DC;", "⋜");
				line = line.replaceAll("&#x0?2253;", "≓");
				line = line.replaceAll("&#x0?22D4;", "⋔");
				line = line.replaceAll("&#x0?2322;", "⌢");
				line = line.replaceAll("&#x0?2273;", "≳");
				line = line.replaceAll("&#x0?22D7;", "⋗");
				line = line.replaceAll("&#x0?2267;", "≧");
				line = line.replaceAll("&#x0?22DB;", "⋛");
				line = line.replaceAll("&#x0?22DB;", "⋛");
				line = line.replaceAll("&#x0?22D9;", "⋙");
				line = line.replaceAll("&#x0?2277;", "≷");
				line = line.replaceAll("&#x0?2273;", "≳");
				line = line.replaceAll("&#x0?226B;", "≫");
				line = line.replaceAll("&#x0?2272;", "≲");
				line = line.replaceAll("&#x0?22D6;", "⋖");
				line = line.replaceAll("&#x0?2266;", "≦");
				line = line.replaceAll("&#x0?22DA;", "⋚");
				line = line.replaceAll("&#x0?22DA;", "⋚");
				line = line.replaceAll("&#x0?2276;", "≶");
				line = line.replaceAll("&#x0?22D8;", "⋘");
				line = line.replaceAll("&#x0?2272;", "≲");
				line = line.replaceAll("&#x0?226A;", "≪");
				line = line.replaceAll("&#x0?22B4;", "⊴");
				line = line.replaceAll("&#x0?2223;", "∣");
				line = line.replaceAll("&#x0?22A7;", "⊧");
				line = line.replaceAll("&#x0?227A;", "≺");
				line = line.replaceAll("&#x0?227E;", "≾");
				line = line.replaceAll("&#x0?227E;", "≾");
				line = line.replaceAll("&#x0?22B5;", "⊵");
				line = line.replaceAll("&#x0?2210;", "∐");
				line = line.replaceAll("&#x0?227B;", "≻");
				line = line.replaceAll("&#x0?227F;", "≿");
				line = line.replaceAll("&#x0?227D;", "≽");
				line = line.replaceAll("&#x0?227D;", "≽");
				line = line.replaceAll("&#x0?227F;", "≿");
				line = line.replaceAll("&#x0?2322;", "⌢");
				line = line.replaceAll("&#x0?2223;", "∣");
				line = line.replaceAll("&#x0?2323;", "⌣");
				line = line.replaceAll("&#x0?228F;", "⊏");
				line = line.replaceAll("&#x0?2291;", "⊑");
				line = line.replaceAll("&#x0?2290;", "⊐");
				line = line.replaceAll("&#x0?2292;", "⊒");
				line = line.replaceAll("&#x0?2323;", "⌣");
				line = line.replaceAll("&#x0?22D0;", "⋐");
				line = line.replaceAll("&#x0?2286;", "⊆");
				line = line.replaceAll("&#x0?22D1;", "⋑");
				line = line.replaceAll("&#x0?2287;", "⊇");
				line = line.replaceAll("&#x0?E306;", "");
				line = line.replaceAll("&#x0?E429;", "");
				line = line.replaceAll("&#x0?225C;", "≜");
				line = line.replaceAll("&#x0?226C;", "≬");
				line = line.replaceAll("&#x0?22A2;", "⊢");
				line = line.replaceAll("&#x0?22A9;", "⊩");
				line = line.replaceAll("&#x0?22A8;", "⊨");
				line = line.replaceAll("&#x0?22BB;", "⊻");
				line = line.replaceAll("&#x0?22B2;", "⊲");
				line = line.replaceAll("&#x0?221D;", "∝");
				line = line.replaceAll("&#x0?22B3;", "⊳");
				line = line.replaceAll("&#x0?22AA;", "⊪");
				line = line.replaceAll("&#x0?0430;", "а");
				line = line.replaceAll("&#x0?0410;", "А");
				line = line.replaceAll("&#x0?0431;", "б");
				line = line.replaceAll("&#x0?0411;", "Б");
				line = line.replaceAll("&#x0?0432;", "в");
				line = line.replaceAll("&#x0?0412;", "В");
				line = line.replaceAll("&#x0?0433;", "г");
				line = line.replaceAll("&#x0?0413;", "Г");
				line = line.replaceAll("&#x0?0434;", "д");
				line = line.replaceAll("&#x0?0414;", "Д");
				line = line.replaceAll("&#x0?0435;", "е");
				line = line.replaceAll("&#x0?0415;", "Е");
				line = line.replaceAll("&#x0?0451;", "ё");
				line = line.replaceAll("&#x0?0401;", "Ё");
				line = line.replaceAll("&#x0?0436;", "ж");
				line = line.replaceAll("&#x0?0416;", "Ж");
				line = line.replaceAll("&#x0?0437;", "з");
				line = line.replaceAll("&#x0?0417;", "З");
				line = line.replaceAll("&#x0?0438;", "и");
				line = line.replaceAll("&#x0?0418;", "И");
				line = line.replaceAll("&#x0?0439;", "й");
				line = line.replaceAll("&#x0?0419;", "Й");
				line = line.replaceAll("&#x0?043A;", "к");
				line = line.replaceAll("&#x0?041A;", "К");
				line = line.replaceAll("&#x0?043B;", "л");
				line = line.replaceAll("&#x0?041B;", "Л");
				line = line.replaceAll("&#x0?043C;", "м");
				line = line.replaceAll("&#x0?041C;", "М");
				line = line.replaceAll("&#x0?043D;", "н");
				line = line.replaceAll("&#x0?041D;", "Н");
				line = line.replaceAll("&#x0?043E;", "о");
				line = line.replaceAll("&#x0?041E;", "О");
				line = line.replaceAll("&#x0?043F;", "п");
				line = line.replaceAll("&#x0?041F;", "П");
				line = line.replaceAll("&#x0?0440;", "р");
				line = line.replaceAll("&#x0?0420;", "Р");
				line = line.replaceAll("&#x0?0441;", "с");
				line = line.replaceAll("&#x0?0421;", "С");
				line = line.replaceAll("&#x0?0442;", "т");
				line = line.replaceAll("&#x0?0422;", "Т");
				line = line.replaceAll("&#x0?0443;", "у");
				line = line.replaceAll("&#x0?0423;", "У");
				line = line.replaceAll("&#x0?0444;", "ф");
				line = line.replaceAll("&#x0?0424;", "Ф");
				line = line.replaceAll("&#x0?0445;", "х");
				line = line.replaceAll("&#x0?0425;", "Х");
				line = line.replaceAll("&#x0?0446;", "ц");
				line = line.replaceAll("&#x0?0426;", "Ц");
				line = line.replaceAll("&#x0?0447;", "ч");
				line = line.replaceAll("&#x0?0427;", "Ч");
				line = line.replaceAll("&#x0?0448;", "ш");
				line = line.replaceAll("&#x0?0428;", "Ш");
				line = line.replaceAll("&#x0?0449;", "щ");
				line = line.replaceAll("&#x0?0429;", "Щ");
				line = line.replaceAll("&#x0?044A;", "ъ");
				line = line.replaceAll("&#x0?042A;", "Ъ");
				line = line.replaceAll("&#x0?044B;", "ы");
				line = line.replaceAll("&#x0?042B;", "Ы");
				line = line.replaceAll("&#x0?044C;", "ь");
				line = line.replaceAll("&#x0?042C;", "Ь");
				line = line.replaceAll("&#x0?044D;", "э");
				line = line.replaceAll("&#x0?042D;", "Э");
				line = line.replaceAll("&#x0?044E;", "ю");
				line = line.replaceAll("&#x0?042E;", "Ю");
				line = line.replaceAll("&#x0?044F;", "я");
				line = line.replaceAll("&#x0?042F;", "Я");
				line = line.replaceAll("&#x0?2116;", "№");
				line = line.replaceAll("&#x0?0452;", "ђ");
				line = line.replaceAll("&#x0?0402;", "Ђ");
				line = line.replaceAll("&#x0?0453;", "ѓ");
				line = line.replaceAll("&#x0?0403;", "Ѓ");
				line = line.replaceAll("&#x0?0454;", "є");
				line = line.replaceAll("&#x0?0404;", "Є");
				line = line.replaceAll("&#x0?0455;", "ѕ");
				line = line.replaceAll("&#x0?0405;", "Ѕ");
				line = line.replaceAll("&#x0?0456;", "і");
				line = line.replaceAll("&#x0?0406;", "І");
				line = line.replaceAll("&#x0?0457;", "ї");
				line = line.replaceAll("&#x0?0407;", "Ї");
				line = line.replaceAll("&#x0?0458;", "ј");
				line = line.replaceAll("&#x0?0408;", "Ј");
				line = line.replaceAll("&#x0?0459;", "љ");
				line = line.replaceAll("&#x0?0409;", "Љ");
				line = line.replaceAll("&#x0?045A;", "њ");
				line = line.replaceAll("&#x0?040A;", "Њ");
				line = line.replaceAll("&#x0?045B;", "ћ");
				line = line.replaceAll("&#x0?040B;", "Ћ");
				line = line.replaceAll("&#x0?045C;", "ќ");
				line = line.replaceAll("&#x0?040C;", "Ќ");
				line = line.replaceAll("&#x0?045E;", "ў");
				line = line.replaceAll("&#x0?040E;", "Ў");
				line = line.replaceAll("&#x0?045F;", "џ");
				line = line.replaceAll("&#x0?040F;", "Џ");
				line = line.replaceAll("&#x0?2500;", "─");
				line = line.replaceAll("&#x0?2502;", "│");
				line = line.replaceAll("&#x0?2514;", "└");
				line = line.replaceAll("&#x0?2518;", "┘");
				line = line.replaceAll("&#x0?2510;", "┐");
				line = line.replaceAll("&#x0?250C;", "┌");
				line = line.replaceAll("&#x0?251C;", "├");
				line = line.replaceAll("&#x0?2534;", "┴");
				line = line.replaceAll("&#x0?2524;", "┤");
				line = line.replaceAll("&#x0?252C;", "┬");
				line = line.replaceAll("&#x0?253C;", "┼");
				line = line.replaceAll("&#x0?255E;", "╞");
				line = line.replaceAll("&#x0?2568;", "╨");
				line = line.replaceAll("&#x0?2561;", "╡");
				line = line.replaceAll("&#x0?2565;", "╥");
				line = line.replaceAll("&#x0?256A;", "╪");
				line = line.replaceAll("&#x0?2550;", "═");
				line = line.replaceAll("&#x0?2551;", "║");
				line = line.replaceAll("&#x0?255A;", "╚");
				line = line.replaceAll("&#x0?255D;", "╝");
				line = line.replaceAll("&#x0?2557;", "╗");
				line = line.replaceAll("&#x0?2554;", "╔");
				line = line.replaceAll("&#x0?2560;", "╠");
				line = line.replaceAll("&#x0?2569;", "╩");
				line = line.replaceAll("&#x0?2563;", "╣");
				line = line.replaceAll("&#x0?2566;", "╦");
				line = line.replaceAll("&#x0?256C;", "╬");
				line = line.replaceAll("&#x0?255F;", "╟");
				line = line.replaceAll("&#x0?2567;", "╧");
				line = line.replaceAll("&#x0?2562;", "╢");
				line = line.replaceAll("&#x0?2564;", "╤");
				line = line.replaceAll("&#x0?256B;", "╫");
				line = line.replaceAll("&#x0?2558;", "╘");
				line = line.replaceAll("&#x0?255C;", "╜");
				line = line.replaceAll("&#x0?2555;", "╕");
				line = line.replaceAll("&#x0?2553;", "╓");
				line = line.replaceAll("&#x0?2559;", "╙");
				line = line.replaceAll("&#x0?255B;", "╛");
				line = line.replaceAll("&#x0?2556;", "╖");
				line = line.replaceAll("&#x0?2552;", "╒");
				line = line.replaceAll("&#x0?2010;", "‐");
				line = line.replaceAll("&#x0?00BF;", "¿");
				line = line.replaceAll("&#x0?2018;", "‘");
				line = line.replaceAll("&#x0?2019;", "’");
				line = line.replaceAll("&#x0?201C;", "“");
				line = line.replaceAll("&#x0?201D;", "”");
				line = line.replaceAll("&#x0?00AD;", "­");
				line = line.replaceAll("&#x0?03B1;", "α");
				line = line.replaceAll("&#x0?0391;", "Α");
				line = line.replaceAll("&#x0?03B2;", "β");
				line = line.replaceAll("&#x0?0392;", "Β");
				line = line.replaceAll("&#x0?03B3;", "γ");
				line = line.replaceAll("&#x0?0393;", "Γ");
				line = line.replaceAll("&#x0?03B4;", "δ");
				line = line.replaceAll("&#x0?0394;", "Δ");
				line = line.replaceAll("&#x0?03B5;", "ε");
				line = line.replaceAll("&#x0?0395;", "Ε");
				line = line.replaceAll("&#x0?03B6;", "ζ");
				line = line.replaceAll("&#x0?0396;", "Ζ");
				line = line.replaceAll("&#x0?03B7;", "η");
				line = line.replaceAll("&#x0?0397;", "Η");
				line = line.replaceAll("&#x0?03B8;", "θ");
				line = line.replaceAll("&#x0?0398;", "Θ");
				line = line.replaceAll("&#x0?03B9;", "ι");
				line = line.replaceAll("&#x0?0399;", "Ι");
				line = line.replaceAll("&#x0?03BA;", "κ");
				line = line.replaceAll("&#x0?039A;", "Κ");
				line = line.replaceAll("&#x0?03BB;", "λ");
				line = line.replaceAll("&#x0?039B;", "Λ");
				line = line.replaceAll("&#x0?03BC;", "μ");
				line = line.replaceAll("&#x0?039C;", "Μ");
				line = line.replaceAll("&#x0?03BD;", "ν");
				line = line.replaceAll("&#x0?039D;", "Ν");
				line = line.replaceAll("&#x0?03BE;", "ξ");
				line = line.replaceAll("&#x0?039E;", "Ξ");
				line = line.replaceAll("&#x0?03BF;", "ο");
				line = line.replaceAll("&#x0?039F;", "Ο");
				line = line.replaceAll("&#x0?03C0;", "π");
				line = line.replaceAll("&#x0?03A0;", "Π");
				line = line.replaceAll("&#x0?03C1;", "ρ");
				line = line.replaceAll("&#x0?03A1;", "Ρ");
				line = line.replaceAll("&#x0?03C3;", "σ");
				line = line.replaceAll("&#x0?0025;", "%");
				line = line.replaceAll("&#x0?00A9;", "©");
				line = line.replaceAll("&#x0?1E00;", "Ḁ");
				line = line.replaceAll("&#x0?1E01;", "ḁ");
				line = line.replaceAll("&#x0?1E02;", "Ḃ");
				line = line.replaceAll("&#x0?1E03;", "ḃ");
				line = line.replaceAll("&#x0?1E04;", "Ḅ");
				line = line.replaceAll("&#x0?1E05;", "ḅ");
				line = line.replaceAll("&#x0?1E06;", "Ḇ");
				line = line.replaceAll("&#x0?1E07;", "ḇ");
				line = line.replaceAll("&#x0?1E08;", "Ḉ");
				line = line.replaceAll("&#x0?1E09;", "ḉ");
				line = line.replaceAll("&#x0?1E0A;", "Ḋ");
				line = line.replaceAll("&#x0?1E0B;", "ḋ");
				line = line.replaceAll("&#x0?1E0C;", "Ḍ");
				line = line.replaceAll("&#x0?1E0D;", "ḍ");
				line = line.replaceAll("&#x0?1E0E;", "Ḏ");
				line = line.replaceAll("&#x0?1E0F;", "ḏ");
				line = line.replaceAll("&#x0?1E10;", "Ḑ");
				line = line.replaceAll("&#x0?1E11;", "ḑ");
				line = line.replaceAll("&#x0?1E12;", "Ḓ");
				line = line.replaceAll("&#x0?1E13;", "ḓ");
				line = line.replaceAll("&#x0?1E14;", "Ḕ");
				line = line.replaceAll("&#x0?1E15;", "ḕ");
				line = line.replaceAll("&#x0?1E16;", "Ḗ");
				line = line.replaceAll("&#x0?1E17;", "ḗ");
				line = line.replaceAll("&#x0?1E18;", "Ḙ");
				line = line.replaceAll("&#x0?1E19;", "ḙ");
				line = line.replaceAll("&#x0?1E1A;", "Ḛ");
				line = line.replaceAll("&#x0?1E1B;", "ḛ");
				line = line.replaceAll("&#x0?1E1C;", "Ḝ");
				line = line.replaceAll("&#x0?1E1D;", "ḝ");
				line = line.replaceAll("&#x0?1E1E;", "Ḟ");
				line = line.replaceAll("&#x0?1E1F;", "ḟ");
				line = line.replaceAll("&#x0?1E20;", "Ḡ");
				line = line.replaceAll("&#x0?1E21;", "ḡ");
				line = line.replaceAll("&#x0?1E22;", "Ḣ");
				line = line.replaceAll("&#x0?1E23;", "ḣ");
				line = line.replaceAll("&#x0?1E24;", "Ḥ");
				line = line.replaceAll("&#x0?1E25;", "ḥ");
				line = line.replaceAll("&#x0?1E26;", "Ḧ");
				line = line.replaceAll("&#x0?1E27;", "ḧ");
				line = line.replaceAll("&#x0?1E28;", "Ḩ");
				line = line.replaceAll("&#x0?1E29;", "ḩ");
				line = line.replaceAll("&#x0?1E2A;", "Ḫ");
				line = line.replaceAll("&#x0?1E2B;", "ḫ");
				line = line.replaceAll("&#x0?1E2C;", "Ḭ");
				line = line.replaceAll("&#x0?1E2D;", "ḭ");
				line = line.replaceAll("&#x0?1E2E;", "Ḯ");
				line = line.replaceAll("&#x0?1E2F;", "ḯ");
				line = line.replaceAll("&#x0?1E30;", "Ḱ");
				line = line.replaceAll("&#x0?1E31;", "ḱ");
				line = line.replaceAll("&#x0?1E32;", "Ḳ");
				line = line.replaceAll("&#x0?1E33;", "ḳ");
				line = line.replaceAll("&#x0?1E34;", "Ḵ");
				line = line.replaceAll("&#x0?1E35;", "ḵ");
				line = line.replaceAll("&#x0?1E36;", "Ḷ");
				line = line.replaceAll("&#x0?1E37;", "ḷ");
				line = line.replaceAll("&#x0?1E38;", "Ḹ");
				line = line.replaceAll("&#x0?1E39;", "ḹ");
				line = line.replaceAll("&#x0?1E3A;", "Ḻ");
				line = line.replaceAll("&#x0?1E3B;", "ḻ");
				line = line.replaceAll("&#x0?1E3C;", "Ḽ");
				line = line.replaceAll("&#x0?1E3D;", "ḽ");
				line = line.replaceAll("&#x0?1E3E;", "Ḿ");
				line = line.replaceAll("&#x0?1E3F;", "ḿ");
				line = line.replaceAll("&#x0?1E40;", "Ṁ");
				line = line.replaceAll("&#x0?1E41;", "ṁ");
				line = line.replaceAll("&#x0?1E42;", "Ṃ");
				line = line.replaceAll("&#x0?1E43;", "ṃ");
				line = line.replaceAll("&#x0?1E44;", "Ṅ");
				line = line.replaceAll("&#x0?1E45;", "ṅ");
				line = line.replaceAll("&#x0?1E46;", "Ṇ");
				line = line.replaceAll("&#x0?1E47;", "ṇ");
				line = line.replaceAll("&#x0?1E48;", "Ṉ");
				line = line.replaceAll("&#x0?1E49;", "ṉ");
				line = line.replaceAll("&#x0?1E4A;", "Ṋ");
				line = line.replaceAll("&#x0?1E4B;", "ṋ");
				line = line.replaceAll("&#x0?1E4C;", "Ṍ");
				line = line.replaceAll("&#x0?1E4D;", "ṍ");
				line = line.replaceAll("&#x0?1E4E;", "Ṏ");
				line = line.replaceAll("&#x0?1E4F;", "ṏ");
				line = line.replaceAll("&#x0?1E50;", "Ṑ");
				line = line.replaceAll("&#x0?1E51;", "ṑ");
				line = line.replaceAll("&#x0?1E52;", "Ṓ");
				line = line.replaceAll("&#x0?1E53;", "ṓ");
				line = line.replaceAll("&#x0?1E54;", "Ṕ");
				line = line.replaceAll("&#x0?1E55;", "ṕ");
				line = line.replaceAll("&#x0?1E56;", "Ṗ");
				line = line.replaceAll("&#x0?1E57;", "ṗ");
				line = line.replaceAll("&#x0?1E58;", "Ṙ");
				line = line.replaceAll("&#x0?1E59;", "ṙ");
				line = line.replaceAll("&#x0?1E5A;", "Ṛ");
				line = line.replaceAll("&#x0?1E5B;", "ṛ");
				line = line.replaceAll("&#x0?1E5C;", "Ṝ");
				line = line.replaceAll("&#x0?1E5D;", "ṝ");
				line = line.replaceAll("&#x0?1E5E;", "Ṟ");
				line = line.replaceAll("&#x0?1E5F;", "ṟ");
				line = line.replaceAll("&#x0?1E60;", "Ṡ");
				line = line.replaceAll("&#x0?1E61;", "ṡ");
				line = line.replaceAll("&#x0?1E62;", "Ṣ");
				line = line.replaceAll("&#x0?1E63;", "ṣ");
				line = line.replaceAll("&#x0?1E64;", "Ṥ");
				line = line.replaceAll("&#x0?1E65;", "ṥ");
				line = line.replaceAll("&#x0?1E66;", "Ṧ");
				line = line.replaceAll("&#x0?1E67;", "ṧ");
				line = line.replaceAll("&#x0?1E68;", "Ṩ");
				line = line.replaceAll("&#x0?1E69;", "ṩ");
				line = line.replaceAll("&#x0?1E6A;", "Ṫ");
				line = line.replaceAll("&#x0?1E6B;", "ṫ");
				line = line.replaceAll("&#x0?1E6C;", "Ṭ");
				line = line.replaceAll("&#x0?1E6D;", "ṭ");
				line = line.replaceAll("&#x0?1E6E;", "Ṯ");
				line = line.replaceAll("&#x0?1E6F;", "ṯ");
				line = line.replaceAll("&#x0?1E70;", "Ṱ");
				line = line.replaceAll("&#x0?1E71;", "ṱ");
				line = line.replaceAll("&#x0?1E72;", "Ṳ");
				line = line.replaceAll("&#x0?1E73;", "ṳ");
				line = line.replaceAll("&#x0?1E74;", "Ṵ");
				line = line.replaceAll("&#x0?1E75;", "ṵ");
				line = line.replaceAll("&#x0?1E76;", "Ṷ");
				line = line.replaceAll("&#x0?1E77;", "ṷ");
				line = line.replaceAll("&#x0?1E78;", "Ṹ");
				line = line.replaceAll("&#x0?1E79;", "ṹ");
				line = line.replaceAll("&#x0?1E7A;", "Ṻ");
				line = line.replaceAll("&#x0?1E7B;", "ṻ");
				line = line.replaceAll("&#x0?1E7C;", "Ṽ");
				line = line.replaceAll("&#x0?1E7D;", "ṽ");
				line = line.replaceAll("&#x0?1E7E;", "Ṿ");
				line = line.replaceAll("&#x0?1E7F;", "ṿ");
				line = line.replaceAll("&#x0?1E80;", "Ẁ");
				line = line.replaceAll("&#x0?1E81;", "ẁ");
				line = line.replaceAll("&#x0?1E82;", "Ẃ");
				line = line.replaceAll("&#x0?1E83;", "ẃ");
				line = line.replaceAll("&#x0?1E84;", "Ẅ");
				line = line.replaceAll("&#x0?1E85;", "ẅ");
				line = line.replaceAll("&#x0?1E86;", "Ẇ");
				line = line.replaceAll("&#x0?1E87;", "ẇ");
				line = line.replaceAll("&#x0?1E88;", "Ẉ");
				line = line.replaceAll("&#x0?1E89;", "ẉ");
				line = line.replaceAll("&#x0?1E8A;", "Ẋ");
				line = line.replaceAll("&#x0?1E8B;", "ẋ");
				line = line.replaceAll("&#x0?1E8C;", "Ẍ");
				line = line.replaceAll("&#x0?1E8D;", "ẍ");
				line = line.replaceAll("&#x0?1E8E;", "Ẏ");
				line = line.replaceAll("&#x0?1E8F;", "ẏ");
				line = line.replaceAll("&#x0?1E90;", "Ẑ");
				line = line.replaceAll("&#x0?1E91;", "ẑ");
				line = line.replaceAll("&#x0?1E92;", "Ẓ");
				line = line.replaceAll("&#x0?1E93;", "ẓ");
				line = line.replaceAll("&#x0?1E94;", "Ẕ");
				line = line.replaceAll("&#x0?1E95;", "ẕ");
				line = line.replaceAll("&#x0?1E96;", "ẖ");
				line = line.replaceAll("&#x0?1E97;", "ẗ");
				line = line.replaceAll("&#x0?1E98;", "ẘ");
				line = line.replaceAll("&#x0?1E99;", "ẙ");
				line = line.replaceAll("&#x0?1E9A;", "ẚ");
				line = line.replaceAll("&#x0?1E9B;", "ẛ");
				line = line.replaceAll("&#x0?1E9E;", "ẞ");
				line = line.replaceAll("&#x0?1EA0;", "Ạ");
				line = line.replaceAll("&#x0?1EA1;", "ạ");
				line = line.replaceAll("&#x0?1EA2;", "Ả");
				line = line.replaceAll("&#x0?1EA3;", "ả");
				line = line.replaceAll("&#x0?1EA4;", "Ấ");
				line = line.replaceAll("&#x0?1EA5;", "ấ");
				line = line.replaceAll("&#x0?1EA6;", "Ầ");
				line = line.replaceAll("&#x0?1EA7;", "ầ");
				line = line.replaceAll("&#x0?1EA8;", "Ẩ");
				line = line.replaceAll("&#x0?1EA9;", "ẩ");
				line = line.replaceAll("&#x0?1EAA;", "Ẫ");
				line = line.replaceAll("&#x0?1EAB;", "ẫ");
				line = line.replaceAll("&#x0?1EAC;", "Ậ");
				line = line.replaceAll("&#x0?1EAD;", "ậ");
				line = line.replaceAll("&#x0?1EAE;", "Ắ");
				line = line.replaceAll("&#x0?1EAF;", "ắ");
				line = line.replaceAll("&#x0?1EB0;", "Ằ");
				line = line.replaceAll("&#x0?1EB1;", "ằ");
				line = line.replaceAll("&#x0?1EB2;", "Ẳ");
				line = line.replaceAll("&#x0?1EB3;", "ẳ");
				line = line.replaceAll("&#x0?1EB4;", "Ẵ");
				line = line.replaceAll("&#x0?1EB5;", "ẵ");
				line = line.replaceAll("&#x0?1EB6;", "Ặ");
				line = line.replaceAll("&#x0?1EB7;", "ặ");
				line = line.replaceAll("&#x0?1EB8;", "Ẹ");
				line = line.replaceAll("&#x0?1EB9;", "ẹ");
				line = line.replaceAll("&#x0?1EBA;", "Ẻ");
				line = line.replaceAll("&#x0?1EBB;", "ẻ");
				line = line.replaceAll("&#x0?1EBC;", "Ẽ");
				line = line.replaceAll("&#x0?1EBD;", "ẽ");
				line = line.replaceAll("&#x0?1EBE;", "Ế");
				line = line.replaceAll("&#x0?1EBF;", "ế");
				line = line.replaceAll("&#x0?1EC0;", "Ề");
				line = line.replaceAll("&#x0?1EC1;", "ề");
				line = line.replaceAll("&#x0?1EC2;", "Ể");
				line = line.replaceAll("&#x0?1EC3;", "ể");
				line = line.replaceAll("&#x0?1EC4;", "Ễ");
				line = line.replaceAll("&#x0?1EC5;", "ễ");
				line = line.replaceAll("&#x0?1EC6;", "Ệ");
				line = line.replaceAll("&#x0?1EC7;", "ệ");
				line = line.replaceAll("&#x0?1EC8;", "Ỉ");
				line = line.replaceAll("&#x0?1EC9;", "ỉ");
				line = line.replaceAll("&#x0?1ECA;", "Ị");
				line = line.replaceAll("&#x0?1ECB;", "ị");
				line = line.replaceAll("&#x0?1ECC;", "Ọ");
				line = line.replaceAll("&#x0?1ECD;", "ọ");
				line = line.replaceAll("&#x0?1ECE;", "Ỏ");
				line = line.replaceAll("&#x0?1ECF;", "ỏ");
				line = line.replaceAll("&#x0?1ED0;", "Ố");
				line = line.replaceAll("&#x0?1ED1;", "ố");
				line = line.replaceAll("&#x0?1ED2;", "Ồ");
				line = line.replaceAll("&#x0?1ED3;", "ồ");
				line = line.replaceAll("&#x0?1ED4;", "Ổ");
				line = line.replaceAll("&#x0?1ED5;", "ổ");
				line = line.replaceAll("&#x0?1ED6;", "Ỗ");
				line = line.replaceAll("&#x0?1ED7;", "ỗ");
				line = line.replaceAll("&#x0?1ED8;", "Ộ");
				line = line.replaceAll("&#x0?1ED9;", "ộ");
				line = line.replaceAll("&#x0?1EDA;", "Ớ");
				line = line.replaceAll("&#x0?1EDB;", "ớ");
				line = line.replaceAll("&#x0?1EDC;", "Ờ");
				line = line.replaceAll("&#x0?1EDD;", "ờ");
				line = line.replaceAll("&#x0?1EDE;", "Ở");
				line = line.replaceAll("&#x0?1EDF;", "ở");
				line = line.replaceAll("&#x0?1EE0;", "Ỡ");
				line = line.replaceAll("&#x0?1EE1;", "ỡ");
				line = line.replaceAll("&#x0?1EE2;", "Ợ");
				line = line.replaceAll("&#x0?1EE3;", "ợ");
				line = line.replaceAll("&#x0?1EE4;", "Ụ");
				line = line.replaceAll("&#x0?1EE5;", "ụ");
				line = line.replaceAll("&#x0?1EE6;", "Ủ");
				line = line.replaceAll("&#x0?1EE7;", "ủ");
				line = line.replaceAll("&#x0?1EE8;", "Ứ");
				line = line.replaceAll("&#x0?1EE9;", "ứ");
				line = line.replaceAll("&#x0?1EEA;", "Ừ");
				line = line.replaceAll("&#x0?1EEB;", "ừ");
				line = line.replaceAll("&#x0?1EEC;", "Ử");
				line = line.replaceAll("&#x0?1EED;", "ử");
				line = line.replaceAll("&#x0?1EEE;", "Ữ");
				line = line.replaceAll("&#x0?1EEF;", "ữ");
				line = line.replaceAll("&#x0?1EF0;", "Ự");
				line = line.replaceAll("&#x0?1EF1;", "ự");
				line = line.replaceAll("&#x0?1EF2;", "Ỳ");
				line = line.replaceAll("&#x0?1EF3;", "ỳ");
				line = line.replaceAll("&#x0?1EF4;", "Ỵ");
				line = line.replaceAll("&#x0?1EF5;", "ỵ");
				line = line.replaceAll("&#x0?1EF6;", "Ỷ");
				line = line.replaceAll("&#x0?1EF7;", "ỷ");
				line = line.replaceAll("&#x0?1EF8;", "Ỹ");
				line = line.replaceAll("&#x0?1EF9;", "ỹ");
				line = line.replaceAll("&#x0?003E;", "&gt;");
				line = line.replaceAll("&#x0?003C;", "&lt;");
				line = line.replaceAll("&#x0?0040;", "@");
				line = line.replaceAll("&#x0?02C6;", "ˆ");
				line = line.replaceAll("&#x0?01CF;", "Ǐ");
				line = line.replaceAll("&#x0?01CD;", "Ǎ");
				line = line.replaceAll("&#x0?01AB;", "ƫ");
				line = line.replaceAll("&#x0?0027", "'");
				line = line.replaceAll("&#x0?00BB", "»");
				line = line.replaceAll("&#x0?00AB", "«");
				line = line.replaceAll("&#x0?002B", "+");
				line = line.replaceAll("&#x0?003D", "=⃥");
				line = line.replaceAll("<[^>]+>", "");
				
				String[] tokens = line.split("\\W+");
				words.addAll(Arrays.asList(tokens));
			}
		}
		return words;
	}

	private static List<String> findMissingWords(List<String> wordList, String pdfFilesPath, String pdfFileName)
			throws IOException {
		Set<String> pdfWordSet = extractWordsFromPdf(pdfFilesPath, pdfFileName);
		List<String> missingWords = new ArrayList<>();
		for (String word : wordList) {
			if (!pdfWordSet.contains(word)) {
				missingWords.add(word);
			}
		}
		return missingWords;
	}

	private static Set<String> extractWordsFromPdf(String pdfFilesPath, String pdfFileName) throws IOException {
		Set<String> words = new HashSet<>();
		File pdfFile = new File(pdfFilesPath, pdfFileName);
		if (pdfFile.exists()) {
			try {
				PDDocument document = PDDocument.load(pdfFile);	
				PDFTextStripper pdfStripper = new PDFTextStripper();
				pdfStripper.setStartPage(0);
				pdfStripper.setEndPage(document.getNumberOfPages());
				String textInReadingOrder = pdfStripper.getText(document);
				document.close();
				textInReadingOrder = textInReadingOrder.replace("\n", " ").replace("\r", "").trim();
				
				File tempDir = new File(pdfFilesPath, "temp");
				if (!tempDir.exists()) {
					tempDir.mkdir();
				}

				String tempFileName = "temp__" + FilenameUtils.getBaseName(pdfFileName) + "__.txt";
				File tempFile = new File(tempDir, tempFileName);
				try (BufferedWriter writer = new BufferedWriter(new FileWriter(tempFile))) {
					writer.write(textInReadingOrder);
				}

				String[] tokens = textInReadingOrder.split("\\W+");
				words.addAll(Arrays.asList(tokens));

				return words;
			} catch (IOException e) {
				e.printStackTrace();
			}
		}
		return words;
	}

	private static void deleteTempDirectory(String pdfFilesPath) {
		File tempDir = new File(pdfFilesPath, "temp");
		if (tempDir.exists() && tempDir.isDirectory()) {
			File[] files = tempDir.listFiles();
			if (files != null) {
				for (File file : files) {
					file.delete();
				}
			}
			tempDir.delete();
		}
	}

	private static void generateTextFile(String pdfFilesPath, String fileName, List<String> words) throws IOException {
	    Set<String> uniqueWords = new LinkedHashSet<>(words); 
	    
	    try (FileWriter writer = new FileWriter(new File(pdfFilesPath,  fileName))) {
//	        for (String word : uniqueWords) {
//	            if (!word.trim().isEmpty()) {  
//	                writer.write(word + "\n");
//	            }
//	        }
	    	for (String word : uniqueWords) {
	    	    if (!word.trim().isEmpty() && !word.matches(".*\\d.*")) {  
	    	        writer.write(word + "\n");
	    	    }
	    	}
	    }
	   deleteTempDirectory(pdfFilesPath);
	}
}